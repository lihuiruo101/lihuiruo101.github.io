<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>www.ywe.today/key.html - 1회용 라이선스 키 생성기</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Orbitron&display=swap');
  body {
    margin: 0; height: 100vh;
    background: linear-gradient(135deg, #0f0f0f, #1a1a1a);
    display: flex; justify-content: center; align-items: center;
    font-family: 'Orbitron', monospace;
    color: #00fff7;
    user-select: none;
    overflow: hidden;
    flex-direction: column;
  }
  .container {
    border: 2px solid #00fff7;
    border-radius: 15px;
    padding: 2.5em 3.5em;
    box-shadow:
      0 0 20px #00fff7,
      0 0 40px #00fff7;
    background: rgba(0, 255, 255, 0.1);
    max-width: 500px;
    text-align: center;
  }
  h1 {
    font-weight: 900;
    margin-bottom: 1.5em;
    text-shadow: 0 0 12px #00fff7;
  }
  #keyDisplay {
    user-select: all;
    background: #001b1f;
    border: none;
    border-radius: 10px;
    padding: 1em 1.5em;
    font-size: 1.3em;
    color: #00fff7;
    text-align: center;
    margin-bottom: 1.5em;
    box-shadow: inset 0 0 15px #00fff7;
    letter-spacing: 0.12em;
  }
  button {
    background: transparent;
    border: 2px solid #00fff7;
    color: #00fff7;
    padding: 1em 2.5em;
    font-weight: 700;
    font-size: 1.1em;
    border-radius: 10px;
    cursor: pointer;
    transition:
      background-color 0.3s,
      box-shadow 0.3s,
      color 0.3s;
  }
  button:hover {
    background-color: #00fff7;
    color: #001b1f;
    box-shadow:
      0 0 20px #00fff7,
      0 0 40px #00fff7;
  }
  #msg {
    margin-top: 1em;
    height: 1.3em;
    font-weight: 700;
    letter-spacing: 0.05em;
    text-shadow: 0 0 6px #ff00ff;
  }
</style>
</head>
<body>
  <div class="container">
    <h1>1회용 라이선스 키 생성기</h1>
    <input type="text" id="keyDisplay" readonly />
    <br />
    <button id="copyBtn">키 복사하기</button>
    <div id="msg"></div>
  </div>

<script>
  // UUID v4 생성기
  function uuidv4() {
    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
      let r = Math.random() * 16 | 0,
          v = c === 'x' ? r : (r & 0x3 | 0x8);
      return v.toString(16);
    });
  }

  function generateLicenseKey() {
    const now = new Date();
    const pad = (num) => num.toString().padStart(2, '0');
    const datePart = `${now.getFullYear()}-${pad(now.getMonth()+1)}-${pad(now.getDate())}-${pad(now.getHours())}-${pad(now.getMinutes())}-${pad(now.getSeconds())}`;
    const uuid = uuidv4();
    return `${datePart}-${uuid}`;
  }

  const keyInput = document.getElementById('keyDisplay');
  const copyBtn = document.getElementById('copyBtn');
  const msg = document.getElementById('msg');

  function copyKeyToClipboard() {
    const key = keyInput.value;
    if (!key) {
      msg.textContent = "키가 없습니다!";
      msg.style.color = "#ff00ff";
      return;
    }
    navigator.clipboard.writeText(key).then(() => {
      msg.textContent = "키가 클립보드에 복사되었습니다!";
      msg.style.color = "#00fff7";
    }).catch(() => {
      msg.textContent = "복사 실패: 브라우저 권한 확인 필요";
      msg.style.color = "#ff0044";
    });
  }

  copyBtn.addEventListener('click', copyKeyToClipboard);

  // 페이지 로드 시 키 생성 + 자동 복사 시도
  window.onload = () => {
    const newKey = generateLicenseKey();
    keyInput.value = newKey;
    // 잠깐 기다렸다가 자동 복사 시도
    setTimeout(() => {
      copyKeyToClipboard();
    }, 500);
  }
</script>
</body>
</html>
